(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{663:function(t,e,o){"use strict";o.r(e);var n=o(513),d=o(377),l=o(372),r=o(541),c=o(367),v=o(493),_=o(565),x=o(504),h=o(22),m=(o(90),o(34),o(91)),f=o.n(m),w={data:function(){return{total_pedidos:0,totalVendasPendentes:0,totalVendasRejeitadas:0,totalVendasAprovadas:0,mostrarTabela:!0,lpedidos:[],totalPontos_pedidos:0,host:"10.5.59.70",id_usuario:0}},created:function(){console.log("---------------- created index----------------------")},mounted:function(){this.getLogado(),this.getVendas(),console.log("--------- mounted -----------------")},methods:{novoPedido:function(){this.$router.push("/vendas")},getVendas:function(){var t=this;return Object(h.a)(regeneratorRuntime.mark((function e(){var o,n,d,i,l,r,c,v,_,x;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.get("http://".concat(t.host,":4000/vendas/").concat(t.id_usuario));case 2:if(o=e.sent,n=o.data.vendas,d=o.data.quantidade,t.total_pedidos=d,d>1)for(i=0;i<d;i++)l=n.data_venda,r=t.formataData(l),n[i].data_venda=r,t.totalPontos_pedidos+=n[i].total_pontos,0===(c=n.status)?n.status="P":1===c?n.status="F":2===c?n.status="R":3===c&&(n.status="V"),console.log("------------------------ data formatada: "+r),n[i].data_venda=r,console.log("------------------------ data formatada2: "+r),t.lpedidos.push(o.data.vendas[i]);else console.log("-------------- dados(data original): "+n.data_venda),v=n.data_venda,_=t.formataData(v),t.totalPontos_pedidos+=n.total_pontos,console.log("------------------------ data formatada: "+_),n.data_venda=_,console.log("------------------------ data formatada2: "+_),0===(x=n.status_venda)?n.status_venda="P":1===x?n.status_venda="F":2===x?n.status_venda="R":3===x&&(n.status_venda="V"),console.log("------------------------ dados: "+n.status_venda),t.lpedidos.push(n);case 7:case"end":return e.stop()}}),e)})))()},getNivelUsuario:function(){return this.nivelUsuario=sessionStorage.getItem("nivelUsuario"),this.nivelUsuario},getLogado:function(){this.id_usuario=sessionStorage.getItem("idUsuario"),this.logado=sessionStorage.getItem("logado"),this.nivelUsuario=sessionStorage.getItem("nivelUsuario")},formataData:function(data){var dt=data.substring(0,10).split("-"),t=dt[0],e=dt[1];return dt[2]+"/"+e+"/"+t}}},C=o(78),component=Object(C.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e(c.a,{staticClass:"pa-0",attrs:{"grid-list-xs":""}},[!0===t.mostrarTabela?[e("div",[e(d.a,{attrs:{elevation:"3","max-width":""}},[e(l.c,{staticClass:"pa-1 text-button text-sm-subtitle-1"},[e(_.a,[e(r.a,[t._v(" Total Pedidos: "+t._s(t.total_pedidos)+" ")]),t._v(" "),e(r.a,[t._v(" Pontos: "+t._s(t.totalPontos_pedidos)+" ")])],1)],1),t._v(" "),e(x.a,{attrs:{dense:""}},[e("thead",{staticClass:"info text-uppercase"},[e("tr",[e("th",{staticClass:"white--text pa-1 text-sm-subtitle-1"},[t._v("Nº")]),t._v(" "),e("th",{staticClass:"white--text pa-0 text-sm-subtitle-1",staticStyle:{width:"25%"}},[t._v("\n                  DATA\n                ")]),t._v(" "),e("th",{staticClass:"white--text pa-0 text-sm-subtitle-1",staticStyle:{width:"40%"}},[t._v("\n                  VL\n                ")]),t._v(" "),e("th",{staticClass:"white--text pa-1 text-sm-subtitle-1"},[t._v("ST")]),t._v(" "),e("th",{staticClass:"white--text pa-0 text-sm-subtitle-1",staticStyle:{width:"25%"}},[t._v("\n                  AÇÕES\n                ")])])]),t._v(" "),e("tbody",t._l(t.lpedidos,(function(o){return e("tr",{key:o.id_venda,staticClass:"text-caption text-sm-subtitle-1 text-md-subtitle-1 text-lg-button text-uppercase pa-0"},[e("td",{staticClass:"text-caption text-sm-subtitle-1 text-md-subtitle-1 text-lg-button text-uppercase pa-1"},[t._v("\n                  "+t._s(o.numero_venda)+"\n                ")]),t._v(" "),e("td",{staticClass:"text-caption text-sm-subtitle-1 text-md-subtitle-1 text-lg-button text-uppercase pa-0"},[t._v("\n                  "+t._s(o.data_venda)+"\n                ")]),t._v(" "),e("td",{staticClass:"text-caption text-sm-subtitle-1 text-md-subtitle-1 text-lg-button pa-0"},[t._v("\n                  R$ "+t._s(o.total_venda)+"\n                ")]),t._v(" "),e("td",{staticClass:"text-caption text-sm-subtitle-1 text-md-subtitle-1 text-lg-button text-uppercase pa-1"},[t._v("\n                  "+t._s(o.status_venda)+"\n                ")]),t._v(" "),e("td",{staticClass:"pa-1"},[e(v.a,{attrs:{color:"blue",size:"20"},on:{click:function(e){return t.detalharFilial(o.id_venda)}}},[t._v("edit")]),t._v(" "),e(v.a,{attrs:{color:"red",size:"20"},on:{click:function(e){return t.deletarFilial(o.id_venda)}}},[t._v("delete\n                  ")])],1)])})),0)])],1)],1)]:t._e()],2),t._v(" "),e(n.a,{staticStyle:{bottom:"50px"},attrs:{color:"blue",fab:"",fixed:"",bottom:"",right:"",height:"45",width:"45"},on:{click:function(e){return t.novoPedido()}}},[e(v.a,{attrs:{color:"white"}},[t._v("add")])],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);